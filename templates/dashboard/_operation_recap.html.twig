<!-- Résumé lettrage -->
<h2 class="font-bold">Lettrage</h2>
<div class="w-full my-2">
    <div class="grid md:grid-cols-4 sm:grid-cols-1 gap-2 text-xs">
        <div class="content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-green-300 border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Total des ventes</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ totals.sales|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class=content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-red-300 border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Total des dépenses</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ totals.expenses|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-white border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Total à remettre en banque</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ ((totals.sales - totals.expenses) - balance)|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-white border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Remis en banque</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ totals.toBank|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Résumé vente -->
<h2 class="font-bold">Ventes</h2>
<div class="w-full my-2">
    <div class="grid md:grid-cols-3 sm:grid-cols-1 gap-2 text-xs">
        <div class="content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-white border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Total des ventes</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ totalAmount|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class=content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-green-300 border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Total des ventes encaissées</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ totalReceived|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-white border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Total des ventes non encaissées</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ totalUnReceived|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Résumé dépense -->
<h2 class="font-bold">Dépenses</h2>
<div class="w-full my-2">
    <div class="grid md:grid-cols-3 sm:grid-cols-1 gap-2 text-xs">
        <div class="content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-white border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Total des dépenses</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ totalAmountExpense|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class=content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-red-300 border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Total des dépenses payées</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ totalPaidAmount|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-center">
            <div class="h-full space-y-6 group p-4 rounded-xl bg-white border border-gray-200/50 dark:shadow-none dark:border-gray-700 dark:bg-gray-800 bg-opacity-50 shadow-2xl shadow-gray-600/10">
                <div>
                    <h5 class="text-center text-xl text-gray-600 dark:text-gray-300">Total des dépenses non payées</h5>
                    <div class="mt-2 flex justify-center gap-4">
                        <h3 class="text-3xl font-bold text-gray-700 dark:text-white text-nowrap">{{ totalUnpaidAmount|number_format(0, ",", " ") }} Ar</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Etat de stock -->
<h2 class="font-bold">Stock</h2>
<div class="w-full my-2">
    <div class="grid grid-flow-row auto-rows-min md:grid-cols-2 sm:grid-cols-1 gap-2 text-xs">
        <div>
            <table class="border-collapse table-auto w-full text-sm">
                <thead>
                    <tr>
                        <th class="border-b dark:border-slate-600 font-medium p-2 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">Article épuisé</th>
                        <th class="border-b dark:border-slate-600 font-medium p-2 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-right">Qté en stock</th>
                    </tr>
                </thead>
                <tbody class="bg-white dark:bg-slate-800">
                {% for article in articles|filter(v => v.inStock == 0) %}
                    <tr class="{% if article.status == 'danger' %}bg-amber-300{% endif %}">
                        <td class="border-b border-slate-100 dark:border-slate-700 p-2 text-slate-500 dark:text-slate-400">{{ article.label }}</td>
                        <td class="border-b border-slate-100 dark:border-slate-700 p-2 text-slate-500 dark:text-slate-400 text-right">{{ article.inStock }}</td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="2" class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400">no records found</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        <div>
        <table class="border-collapse table-auto w-full text-sm">
            <thead>
                <tr>
                    <th class="border-b dark:border-slate-600 font-medium p-2 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">Article</th>
                    <th class="border-b dark:border-slate-600 font-medium p-2 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-right">Qté en stock</th>
                </tr>
            </thead>
            <tbody class="bg-white dark:bg-slate-800">
            {% for article in articles|filter(v => v.inStock > 0) %}
                <tr class="{% if article.status == 'danger' %}bg-amber-300{% endif %}">
                    <td class="border-b border-slate-100 dark:border-slate-700 p-2 text-slate-500 dark:text-slate-400">{{ article.label }}</td>
                    <td class="border-b border-slate-100 dark:border-slate-700 p-2 text-slate-500 dark:text-slate-400 text-right">{{ article.inStock }}</td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="2" class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400">no records found</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        </div>
    </div>
</div>
